
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>napari.utils.perf &#8212; napari</title>
    
    <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
  
    
    <link rel="stylesheet"
      href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">
  
    
      
  
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/pydata-sphinx-theme.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
    <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">
  
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="napari.utils.perf.PerfEvent" href="napari.utils.perf.PerfEvent.html" />
    <link rel="prev" title="napari.qt.threading.WorkerBaseSignals" href="napari.qt.threading.WorkerBaseSignals.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../index.html">
  <img src="../_static/logo.png" class="logo" alt="logo">
</a>


    
    <!-- A small template snippet for theme testing -->
<b>napari</b>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../usage.html">
  Usage
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../plugins/index.html">
  Plugins
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../community/index.html">
  Community
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  API Reference
 </a>
</li>

    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://napari-hub.org">napari hub<i class="fas fa-external-link-alt"></i></a>
    </li>
    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/napari/napari" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="modules.html">
   Modules
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="napari.layers.html">
     napari.layers
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.layers.Image.html">
       napari.layers.Image
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.layers.Labels.html">
       napari.layers.Labels
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.layers.Layer.html">
       napari.layers.Layer
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.layers.Points.html">
       napari.layers.Points
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.layers.Shapes.html">
       napari.layers.Shapes
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.layers.Surface.html">
       napari.layers.Surface
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.layers.Tracks.html">
       napari.layers.Tracks
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.layers.Vectors.html">
       napari.layers.Vectors
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="napari.view_layers.html">
     napari.view_layers
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.view_layers.Dims.html">
       napari.view_layers.Dims
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.view_layers.Viewer.html">
       napari.view_layers.Viewer
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="napari.types.html">
     napari.types
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.types.ArrayBase.html">
       napari.types.ArrayBase
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.types.Path.html">
       napari.types.Path
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.types.SampleDict.html">
       napari.types.SampleDict
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.types.TracebackType.html">
       napari.types.TracebackType
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.types.TypedDict.html">
       napari.types.TypedDict
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.types.partial.html">
       napari.types.partial
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="napari.utils.html">
     napari.utils
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.utils.Colormap.html">
       napari.utils.Colormap
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.utils.nbscreenshot.html">
       napari.utils.nbscreenshot
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.utils.progress.html">
       napari.utils.progress
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="napari.plugins.html">
     napari.plugins
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.plugins.NapariPluginManager.html">
       napari.plugins.NapariPluginManager
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.plugins.PackageMetadata.html">
       napari.plugins.PackageMetadata
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.plugins.Path.html">
       napari.plugins.Path
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.plugins.PluginManifest.html">
       napari.plugins.PluginManifest
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="napari.components.html">
     napari.components
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.components.Camera.html">
       napari.components.Camera
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.components.Dims.html">
       napari.components.Dims
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.components.LayerList.html">
       napari.components.LayerList
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.components.ViewerModel.html">
       napari.components.ViewerModel
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="napari.qt.threading.html">
     napari.qt.threading
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.qt.threading.FunctionWorker.html">
       napari.qt.threading.FunctionWorker
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.qt.threading.GeneratorWorker.html">
       napari.qt.threading.GeneratorWorker
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.qt.threading.GeneratorWorkerSignals.html">
       napari.qt.threading.GeneratorWorkerSignals
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.qt.threading.WorkerBase.html">
       napari.qt.threading.WorkerBase
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.qt.threading.WorkerBaseSignals.html">
       napari.qt.threading.WorkerBaseSignals
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="current reference internal" href="#">
     napari.utils.perf
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
    <label for="toctree-checkbox-9">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.utils.perf.PerfEvent.html">
       napari.utils.perf.PerfEvent
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="napari.html">
     napari
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="napari.Viewer.html">
       napari.Viewer
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="event_loop.html">
   Starting the Event Loop
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="view_layer.html">
   Viewing a Layer
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="misc.html">
   Misc
  </a>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chrome-tracing">
   Chrome Tracing
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#monkey-patching">
   Monkey Patching
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#trace-on-start">
   Trace On Start
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#manual-timing">
   Manual Timing
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="module-napari.utils.perf">
<span id="napari-utils-perf"></span><h1>napari.utils.perf<a class="headerlink" href="#module-napari.utils.perf" title="Permalink to this headline">¶</a></h1>
<p>Performance Monitoring.</p>
<p>The perfmon module lets you instrument your code and visualize its run-time
behavior and timings in Chrome’s Tracing GUI.</p>
<p>To enable perfmon define the env var NAPARI_PERFMON as follows:</p>
<dl class="simple">
<dt>NAPARI_PERFMON=1</dt><dd><p>Activates perfmon, trace using Debug -&gt; Performance Trace menu.</p>
</dd>
<dt>NAPARI_PERFMON=/path/to/config.json</dt><dd><p>Configure perfmon using the config.json configuration. See the
PerfmonConfig docs for the spec of the config file.</p>
</dd>
</dl>
<div class="section" id="chrome-tracing">
<h2>Chrome Tracing<a class="headerlink" href="#chrome-tracing" title="Permalink to this headline">¶</a></h2>
<p>Chrome has a nice built-in performance tool called chrome://tracing. Chrome
can record traces of web applications. But the format is well-documented and
anyone can create the files and use the nice GUI. And other programs accept
the format including:
1) https://www.speedscope.app/ which does flamegraphs (Chrome doesn’t).
2) Qt Creator’s performance tools.</p>
</div>
<div class="section" id="monkey-patching">
<h2>Monkey Patching<a class="headerlink" href="#monkey-patching" title="Permalink to this headline">¶</a></h2>
<p>The best way to add perf_timers is using the perfmon config file. You can
list which methods or functions you want to time, and a perf_timer will be
monkey-patched into each callable on startup. The monkey patching
is done only if perfmon is enabled.</p>
</div>
<div class="section" id="trace-on-start">
<h2>Trace On Start<a class="headerlink" href="#trace-on-start" title="Permalink to this headline">¶</a></h2>
<p>Add a line to the config file like:</p>
<blockquote>
<div><p>“trace_file_on_start”: “/Path/to/my/trace.json”</p>
</div></blockquote>
<p>Perfmon will start tracing on startup. You must quit napari with the Quit
command for napari to write trace file. See PerfmonConfig docs.</p>
</div>
<div class="section" id="manual-timing">
<h2>Manual Timing<a class="headerlink" href="#manual-timing" title="Permalink to this headline">¶</a></h2>
<p>You can also manually add “perf_timer” context objects and
“add_counter_event()” and “add_instant_event()” functions to your code. All
three of these should be removed before merging the PR into main. While
they have almost zero overhead when perfmon is disabled, it’s still better
not to leave them in the code. Think of them as similar to debug prints.</p>
<p class="rubric">Classes</p>
<table class="longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="napari.utils.perf.PerfEvent.html#napari.utils.perf.PerfEvent" title="napari.utils.perf.PerfEvent"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PerfEvent</span></code></a></p></td>
<td><p>A performance related event: timer, counter, etc.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Functions</p>
<dl class="py function">
<dt class="sig sig-object py" id="napari.utils.perf.add_counter_event">
<span class="sig-prename descclassname"><span class="pre">napari.utils.perf.</span></span><span class="sig-name descname"><span class="pre">add_counter_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/napari/utils/perf/_timers.html#add_counter_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#napari.utils.perf.add_counter_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="napari.utils.perf.add_instant_event">
<span class="sig-prename descclassname"><span class="pre">napari.utils.perf.</span></span><span class="sig-name descname"><span class="pre">add_instant_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/napari/utils/perf/_timers.html#add_instant_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#napari.utils.perf.add_instant_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="napari.utils.perf.block_timer">
<span class="sig-prename descclassname"><span class="pre">napari.utils.perf.</span></span><span class="sig-name descname"><span class="pre">block_timer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">category</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/utils/perf/_timers.html#block_timer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#napari.utils.perf.block_timer" title="Permalink to this definition">¶</a></dt>
<dd><p>Time a block of code.</p>
<p>block_timer can be used when perfmon is disabled. Use perf_timer instead
if you want your timer to do nothing when perfmon is disabled.</p>
<p class="rubric">Notes</p>
<p>Most of the time you should use the perfmon config file to monkey-patch
perf_timer’s into methods and functions. Then you do not need to use
block_timer or perf_timer context objects explicitly at all.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The name of this timer.</p></li>
<li><p><strong>category</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Comma separated categories such has “render,update”.</p></li>
<li><p><strong>print_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – Print the duration of the timer when it finishes.</p></li>
<li><p><strong>**kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Additional keyword arguments for the “args” field of the event.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">block_timer</span><span class="p">(</span><span class="s2">&quot;draw&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">event</span><span class="p">:</span>
    <span class="n">draw_stuff</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The timer took </span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">duration_ms</span><span class="si">}</span><span class="s2"> milliseconds.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="napari.utils.perf.perf_timer">
<span class="sig-prename descclassname"><span class="pre">napari.utils.perf.</span></span><span class="sig-name descname"><span class="pre">perf_timer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">category</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/napari/utils/perf/_timers.html#perf_timer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#napari.utils.perf.perf_timer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="napari.qt.threading.WorkerBaseSignals.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">napari.qt.threading.WorkerBaseSignals</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="napari.utils.perf.PerfEvent.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">napari.utils.perf.PerfEvent</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
    <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2022, The napari team.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.4.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>