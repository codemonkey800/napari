
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Translations &#8212; napari</title>
    
    <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
  
    
    <link rel="stylesheet"
      href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">
  
    
      
  
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/pydata-sphinx-theme.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
    <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">
  
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Release notes" href="../release/index.html" />
    <link rel="prev" title="Organization of Documentation for napari" href="docs.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../index.html">
  <img src="../_static/logo.png" class="logo" alt="logo">
</a>


    
    <!-- A small template snippet for theme testing -->
<b>napari</b>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../usage.html">
  Usage
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../plugins/index.html">
  Plugins
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../community/index.html">
  Community
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../api/index.html">
  API Reference
 </a>
</li>

    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://napari-hub.org">napari hub<i class="fas fa-external-link-alt"></i></a>
    </li>
    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/napari/napari" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../community/mission_and_values.html">
   Mission and Values
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../community/team.html">
   About the project and team
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../community/code_of_conduct.html">
   Code of Conduct
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../community/code_of_conduct_reporting.html">
   Handling Code of Conduct reports
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../community/governance.html">
   Governance model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../community/working_groups.html">
   Working groups
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../community/meeting_schedule.html">
   Meeting schedule
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Contributing resources
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="benchmarks.html">
     Benchmarks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="contributing.html">
     Contributing guide
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="core_dev_guide.html">
     Core Developer guide
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="profiling.html">
     Profiling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="release.html">
     Release guide
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="testing.html">
     Testing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="docs.html">
     Organization of Documentation for napari
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Translations
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../release/index.html">
   Release notes
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_4_14.html">
     napari 0.4.14
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_4_13.html">
     napari 0.4.13
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_4_12.html">
     napari 0.4.12
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_4_11.html">
     napari 0.4.11
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_4_10.html">
     napari 0.4.10
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_4_9.html">
     napari 0.4.9
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_4_8.html">
     napari 0.4.8
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_4_7.html">
     napari 0.4.7
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_4_6.html">
     napari 0.4.6
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_4_5.html">
     napari 0.4.5
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_4_4.html">
     napari 0.4.4
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_4_3.html">
     napari 0.4.3
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_4_2.html">
     napari 0.4.2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_4_1.html">
     napari 0.4.1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_4_0.html">
     napari 0.4.0
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_3_8.html">
     napari 0.3.8
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_3_7.html">
     napari 0.3.7
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_3_6.html">
     napari 0.3.6
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_3_5.html">
     napari 0.3.5
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_3_4.html">
     napari 0.3.4
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_3_3.html">
     napari 0.3.3
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_3_2.html">
     napari 0.3.2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_3_1.html">
     napari 0.3.1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_3_0.html">
     napari 0.3.0
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_2_12.html">
     napari 0.2.12
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_2_11.html">
     napari 0.2.11
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_2_10.html">
     napari 0.2.10
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_2_9.html">
     napari 0.2.9
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_2_8.html">
     napari 0.2.8
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_2_7.html">
     napari 0.2.7
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_2_6.html">
     napari 0.2.6
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_2_5.html">
     napari 0.2.5
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_2_4.html">
     napari 0.2.4
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_2_3.html">
     napari 0.2.3
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_2_1.html">
     napari 0.2.1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_2_0.html">
     napari 0.2.0
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_1_5.html">
     napari 0.1.5
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_1_3.html">
     napari 0.1.3
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../release/release_0_1_0.html">
     napari 0.1.0
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../roadmaps/index.html">
   Roadmaps
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../roadmaps/0_4.html">
     Roadmap 0.4
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../roadmaps/0_3_retrospective.html">
     Roadmap 0.3 Retrospective
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../roadmaps/0_3.html">
     Roadmap 0.3
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-make-strings-translatable">
   How to make strings translatable?
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#singular-strings">
     Singular strings
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#singular-strings-with-context">
     Singular strings with context
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#plural-strings">
     Plural strings
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#plural-strings-with-context">
     Plural strings with context
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#deferred-translations">
   Deferred translations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#additional-arguments-inside-strings">
   Additional arguments inside strings
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#contributing-translations">
   Contributing translations
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="translations">
<span id="id1"></span><h1>Translations<a class="headerlink" href="#translations" title="Permalink to this headline">¶</a></h1>
<p>Starting with version 0.4.7, napari codebase include internationalization
(i18n) and now offers the possibility of installing language packs, which
provide localization (l10n) enabling the user interface to be displayed in
different languages.</p>
<p>To learn more about the current languages that are in the process of
translation, visit the <a class="reference external" href="https://github.com/napari/napari-language-packs">language packs repository</a></p>
<p>This guide is limited to providing translations to the napari core codebase.
We will soon provide more information on how to make your napari plugins
localizable.</p>
<div class="section" id="how-to-make-strings-translatable">
<h2>How to make strings translatable?<a class="headerlink" href="#how-to-make-strings-translatable" title="Permalink to this headline">¶</a></h2>
<p>To make your code translatable (localizable), please use the <code class="docutils literal notranslate"><span class="pre">trans</span></code> helper
provided by the napari utilities.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">napari.utils.translations</span> <span class="kn">import</span> <span class="n">trans</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">trans</span></code> is a convenience wrapper on top of the <code class="docutils literal notranslate"><span class="pre">gettext</span></code> module of the
standard library, which provides the l10n and i18n facilities in Python. To
learn more about <code class="docutils literal notranslate"><span class="pre">gettext</span></code> visit the <a class="reference external" href="https://docs.python.org/3/library/gettext.html">Python documentation</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">trans</span></code> provides 4 methods that can be used to handle localization.</p>
<p>The following examples make use of a widget to illustrate the workflow, but
this also applies to other strings that may be surfaced to the user, e.g.
custom exceptions.</p>
<p><code class="docutils literal notranslate"><span class="pre">f-strings</span></code> do not work with localizable strings, so any strings that use them
need to be converted. The <a class="reference external" href="#plural-strings">Plural strings section</a>
below explains this in more detail.</p>
<div class="section" id="singular-strings">
<h3>Singular strings<a class="headerlink" href="#singular-strings" title="Permalink to this headline">¶</a></h3>
<p>Strings that need to provide a 1:1 translation, can use the <code class="docutils literal notranslate"><span class="pre">trans._</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qtpy.QtWidgets</span> <span class="kn">import</span> <span class="n">QComboBox</span><span class="p">,</span> <span class="n">QWidget</span>

<span class="kn">from</span> <span class="nn">napari.utils.translations</span> <span class="kn">import</span> <span class="n">trans</span>


<span class="k">class</span> <span class="nc">SomeWidget</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel_combo_box</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>        
        <span class="bp">self</span><span class="o">.</span><span class="n">channel_combo_box</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">trans</span><span class="o">.</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">),</span> <span class="s2">&quot;red&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel_combo_box</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">trans</span><span class="o">.</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">),</span> <span class="s2">&quot;green&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel_combo_box</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">trans</span><span class="o">.</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;blue&quot;</span><span class="p">),</span> <span class="s2">&quot;blue&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>On this example, we add a RGB channel combo box selector. The first argument of
<code class="docutils literal notranslate"><span class="pre">addItem</span></code> is the actual display name of that combobox item, whereas the second
argument is the data associated to that item, in this case the original channel
name.</p>
<p>For the <code class="docutils literal notranslate"><span class="pre">English</span> <span class="pre">(US)</span></code> translation the options displayed would be the same,
since <code class="docutils literal notranslate"><span class="pre">gettext</span></code> uses the source language as the key to find translations.
In this case:</p>
<ul class="simple">
<li><p>red</p></li>
<li><p>green</p></li>
<li><p>blue</p></li>
</ul>
<p>For the <code class="docutils literal notranslate"><span class="pre">Spanish</span> <span class="pre">(Spain)</span></code> translation the options displayed would be:</p>
<ul class="simple">
<li><p>rojo</p></li>
<li><p>verde</p></li>
<li><p>azul</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">trans._</span></code> is a wrapper on top of <a class="reference external" href="https://docs.python.org/3/library/gettext.html#gettext.gettext">gettext.gettext</a> with enhanced functionality.</p>
</div>
<div class="section" id="singular-strings-with-context">
<h3>Singular strings with context<a class="headerlink" href="#singular-strings-with-context" title="Permalink to this headline">¶</a></h3>
<p>Strings that need some additional context to disambiguate the source string,
can use the <code class="docutils literal notranslate"><span class="pre">trans._p</span></code> method:</p>
<p>The word <strong>Tab</strong> can mean different things in the english language:</p>
<ul class="simple">
<li><p>A spacer, when the <code class="docutils literal notranslate"><span class="pre">Tab</span></code> key of a keyboard is used inside a text editor.</p></li>
<li><p>A tablature, a simplified version of sheet music used for stringed
insruments.</p></li>
<li><p>A user interface graphical element, like the one provide by <code class="docutils literal notranslate"><span class="pre">QTabWidget</span></code>.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qtpy.QtWidgets</span> <span class="kn">import</span> <span class="n">QComboBox</span><span class="p">,</span> <span class="n">QWidget</span>

<span class="kn">from</span> <span class="nn">napari.utils.translations</span> <span class="kn">import</span> <span class="n">trans</span>


<span class="k">class</span> <span class="nc">SomeWidget</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context_combo_box</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>        
        <span class="bp">self</span><span class="o">.</span><span class="n">context_combo_box</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">trans</span><span class="o">.</span><span class="n">_p</span><span class="p">(</span><span class="s2">&quot;character&quot;</span><span class="p">,</span> <span class="s2">&quot;tab&quot;</span><span class="p">,</span> <span class="p">),</span> <span class="s2">&quot;tab&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context_combo_box</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">trans</span><span class="o">.</span><span class="n">_p</span><span class="p">(</span><span class="s2">&quot;music&quot;</span><span class="p">,</span> <span class="s2">&quot;tab&quot;</span><span class="p">),</span> <span class="s2">&quot;tab&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context_combo_box</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">trans</span><span class="o">.</span><span class="n">_p</span><span class="p">(</span><span class="s2">&quot;ui-element&quot;</span><span class="p">,</span> <span class="s2">&quot;tab&quot;</span><span class="p">),</span> <span class="s2">&quot;tab&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>On this example, we add the word <code class="docutils literal notranslate"><span class="pre">tab</span></code> three time to a combo box selector.
The first argument of <code class="docutils literal notranslate"><span class="pre">trans._p</span></code> provides the context string that will help
to disambiguate the translation.</p>
<p>For the <code class="docutils literal notranslate"><span class="pre">English</span> <span class="pre">(US)</span></code> translation the options displayed would be the same,
since <code class="docutils literal notranslate"><span class="pre">gettext</span></code> uses the source language as the key to find translations. In
this case:</p>
<ul class="simple">
<li><p>tab</p></li>
<li><p>tab</p></li>
<li><p>tab</p></li>
</ul>
<p>For the <code class="docutils literal notranslate"><span class="pre">Spanish</span> <span class="pre">(Spain)</span></code> translation the options displayted would be:</p>
<ul class="simple">
<li><p>tabulación</p></li>
<li><p>tablatura</p></li>
<li><p>pestaña</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">trans._p</span></code> is a wrapper on top of <a class="reference external" href="https://docs.python.org/3/library/gettext.html#gettext.pgettext">gettext.pgettext</a> with enhanced functionality.</p>
</div>
<div class="section" id="plural-strings">
<h3>Plural strings<a class="headerlink" href="#plural-strings" title="Permalink to this headline">¶</a></h3>
<p>Some strings or sentences might need to be handled differently when needing
pluralization, that is depending on the amount of items included in the
string.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qtpy.QtWidgets</span> <span class="kn">import</span> <span class="n">QLabel</span><span class="p">,</span> <span class="n">QWidget</span>

<span class="kn">from</span> <span class="nn">napari.utils.translations</span> <span class="kn">import</span> <span class="n">trans</span>


<span class="k">class</span> <span class="nc">SomeWidget</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="n">string</span> <span class="o">=</span> <span class="n">trans</span><span class="o">.</span><span class="n">_n</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{n}</span><span class="s2"> item&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{n}</span><span class="s2"> items&quot;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">amount</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
</pre></div>
</div>
<p>On this example, the label string depends on the <code class="docutils literal notranslate"><span class="pre">n</span></code> parameter. The
first argument of <code class="docutils literal notranslate"><span class="pre">trans._n</span></code> provides the singular version of the string.
The second argument provides the plural version of the string. The third
argument provides the quantity that will allow to know which string should
be used, in this case <code class="docutils literal notranslate"><span class="pre">amount</span></code>. Notice that by default <code class="docutils literal notranslate"><span class="pre">trans._n</span></code> will try to
interpolate the value of <code class="docutils literal notranslate"><span class="pre">n</span></code> in the string, if found.</p>
<p>For the <code class="docutils literal notranslate"><span class="pre">English</span> <span class="pre">(US)</span></code> translation the string displayed for different values
of <code class="docutils literal notranslate"><span class="pre">amount</span></code> would be:</p>
<ul class="simple">
<li><p>For <code class="docutils literal notranslate"><span class="pre">amount=0</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;0</span> <span class="pre">items&quot;</span></code></p></li>
<li><p>For <code class="docutils literal notranslate"><span class="pre">amount=1</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">item&quot;</span></code></p></li>
<li><p>For <code class="docutils literal notranslate"><span class="pre">amount=2</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;2</span> <span class="pre">items&quot;</span></code></p></li>
</ul>
<p>For the <code class="docutils literal notranslate"><span class="pre">Spanish</span> <span class="pre">(Spain)</span></code> translation the options displayted would be:</p>
<ul class="simple">
<li><p>For <code class="docutils literal notranslate"><span class="pre">amount=0</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;0</span> <span class="pre">ítems&quot;</span></code></p></li>
<li><p>For <code class="docutils literal notranslate"><span class="pre">amount=1</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">ítem&quot;</span></code></p></li>
<li><p>For <code class="docutils literal notranslate"><span class="pre">amount=2</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;2</span> <span class="pre">ítems&quot;</span></code></p></li>
</ul>
<p>Take into account that different languages will handle pluralization
differently. Having clear variable names within strings (e.g. <code class="docutils literal notranslate"><span class="pre">{amount}</span></code>) of
what the variable represents makes the internationalization process much
easier and pleasant for translators.</p>
<p><code class="docutils literal notranslate"><span class="pre">trans._n</span></code> is a wrapper on top of <a class="reference external" href="https://docs.python.org/3/library/gettext.html#gettext.ngettext">gettext.ngettext</a> with enhanced functionality.</p>
</div>
<div class="section" id="plural-strings-with-context">
<h3>Plural strings with context<a class="headerlink" href="#plural-strings-with-context" title="Permalink to this headline">¶</a></h3>
<p>This is similar to plural strings, but an additional context can be supplied
as explained in the <a class="reference external" href="#singular-strings-with-context">Singular strings with context</a> section.</p>
</div>
</div>
<div class="section" id="deferred-translations">
<h2>Deferred translations<a class="headerlink" href="#deferred-translations" title="Permalink to this headline">¶</a></h2>
<p>For some strings we might not want to provide a translation right away. This
could be the case of running napari in scripts, where providing the original
english error messages might provide a better experience for users and
developers.</p>
<p>For these case, all the <code class="docutils literal notranslate"><span class="pre">trans._*</span></code> methods provide an extra parameter
<code class="docutils literal notranslate"><span class="pre">deferred</span></code>. When used and set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the methods will return an instance
of a <code class="docutils literal notranslate"><span class="pre">TranslationString</span></code> which provides two methods, <code class="docutils literal notranslate"><span class="pre">TranslationString.value()</span></code>
and <code class="docutils literal notranslate"><span class="pre">TranslationString.translation()</span></code>. The former provides the original
untranslated string and the later provides the translated string.
Additionally, the <code class="docutils literal notranslate"><span class="pre">string</span></code> representation of this object will default to use
the original string.</p>
<p>With this, we can also provide the correct translations when using the napari
application and displaying messages on the notifications manager in the
language selected by the users.</p>
</div>
<div class="section" id="additional-arguments-inside-strings">
<h2>Additional arguments inside strings<a class="headerlink" href="#additional-arguments-inside-strings" title="Permalink to this headline">¶</a></h2>
<p>Since <code class="docutils literal notranslate"><span class="pre">f-strings</span></code> do not work with localizable strings, we loose their
convenience and have to use <code class="docutils literal notranslate"><span class="pre">str.format</span></code>. However, when using deferred
translations, we need to be able to use any variables the original string
needs to be able to render itself. To handle this, the <code class="docutils literal notranslate"><span class="pre">trans</span></code> helpers
provide the ability to receive any extra keyword arguments whcih will be
used for rendering the deferred strings on demand.</p>
<p>An example of how this works with Spanish and defered string yields:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">napari.utils.translations</span> <span class="kn">import</span> <span class="n">trans</span>

<span class="n">deferred_string</span> <span class="o">=</span> <span class="n">trans</span><span class="o">.</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Hello </span><span class="si">{word}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">deferred</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">word</span><span class="o">=</span><span class="s2">&quot;world!&quot;</span><span class="p">)</span>

<span class="nb">str</span><span class="p">(</span><span class="n">deferred_string</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;Hello world!&quot;</span>  <span class="c1"># True</span>
<span class="n">deferred_string</span><span class="o">.</span><span class="n">value</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;Hello world!&quot;</span>  <span class="c1"># True</span>
<span class="n">deferred_string</span><span class="o">.</span><span class="n">translation</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;¡Hola mundo!&quot;</span>  <span class="c1"># True</span>
</pre></div>
</div>
<p>An example of how this works for non-deferred string yields:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">napari.utils.translations</span> <span class="kn">import</span> <span class="n">trans</span>

<span class="n">normal_string</span> <span class="o">=</span> <span class="n">trans</span><span class="o">.</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Hello </span><span class="si">{word}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">word</span><span class="o">=</span><span class="s2">&quot;world!&quot;</span><span class="p">)</span>
<span class="n">normal_string</span> <span class="o">==</span> <span class="s2">&quot;¡Hola mundo!&quot;</span>  <span class="c1"># True</span>
</pre></div>
</div>
</div>
<div class="section" id="contributing-translations">
<h2>Contributing translations<a class="headerlink" href="#contributing-translations" title="Permalink to this headline">¶</a></h2>
<p>To be able to provide translations for different languages, the napari team
chose to use the <code class="docutils literal notranslate"><span class="pre">Crowdin</span></code> which provides a simple web interface where the
localizable strings can be translated one by one with the help of volunteers
and the napari user community.</p>
<p>To start translating, please visit the <a class="reference external" href="https://crowdin.com/project/napari">Crowdin project page</a>.</p>
</div>
</div>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="docs.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Organization of Documentation for napari</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../release/index.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Release notes</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
    <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2022, The napari team.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.4.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>